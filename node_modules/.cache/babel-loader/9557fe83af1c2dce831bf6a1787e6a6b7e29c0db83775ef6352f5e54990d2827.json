{"ast":null,"code":"import _toConsumableArray from\"/Users/veronikagennadevna/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/veronikagennadevna/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Routes,Route,useNavigate}from'react-router-dom';import Header from'./Header.js';import Main from'./Main.js';import Footer from'./Footer.js';import PopupWithForm from'./PopupWithForm.js';import ImagePopup from'./ImagePopup.js';import EditProfilePopup from'./EditProfilePopup.js';import EditAvatarPopup from'./EditAvatarPopup.js';import AddPlacePopup from'./AddPlacePopup.js';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{api}from'../utils/Api.js';import Register from'./Register.js';import Login from'./Login.js';import InfoTooltip from'./InfoTooltip.js';import ProtectedRouteElement from'./ProtectedRoute.js';import{auth}from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setIsEditProfilePopupOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isAddPlacePopupOpen=_React$useState4[0],setIsAddPlacePopupOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isEditAvatarPopupOpen=_React$useState6[0],setIsEditAvatarPopupOpen=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isEditProfilePopupOnLoading=_React$useState8[0],setIsEditProfilePopupOnLoading=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isAddPlacePopupOnLoading=_React$useState10[0],setIsAddPlacePopupOnLoading=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),isEditAvatarPopupOnLoading=_React$useState12[0],setIsEditAvatarPopupOnLoading=_React$useState12[1];var _React$useState13=React.useState(null),_React$useState14=_slicedToArray(_React$useState13,2),selectedCard=_React$useState14[0],setSelectedCard=_React$useState14[1];var _React$useState15=React.useState({}),_React$useState16=_slicedToArray(_React$useState15,2),currentUser=_React$useState16[0],setCurrentUser=_React$useState16[1];var _React$useState17=React.useState([]),_React$useState18=_slicedToArray(_React$useState17,2),cards=_React$useState18[0],setCards=_React$useState18[1];//auth\nvar _React$useState19=React.useState(false),_React$useState20=_slicedToArray(_React$useState19,2),loggedIn=_React$useState20[0],setLoggedIn=_React$useState20[1];var _React$useState21=React.useState(''),_React$useState22=_slicedToArray(_React$useState21,2),userEmail=_React$useState22[0],setUserEmail=_React$useState22[1];var navigate=useNavigate();var _React$useState23=React.useState(false),_React$useState24=_slicedToArray(_React$useState23,2),isOpenInfoTooltip=_React$useState24[0],setIsOpenInfoTooltip=_React$useState24[1];var _React$useState25=React.useState(false),_React$useState26=_slicedToArray(_React$useState25,2),responseInfo=_React$useState26[0],setResponseInfo=_React$useState26[1];var _React$useState27=React.useState(true),_React$useState28=_slicedToArray(_React$useState27,2),loading=_React$useState28[0],setloading=_React$useState28[1];React.useEffect(function(){loggedIn&&Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),userData=_ref2[0],cards=_ref2[1];setCurrentUser(userData);setCards(cards);}).catch(function(err){console.log(err);});// .finally(() => {\n//   setloading(false);\n// });\n},[loggedIn]);var isOpen=isEditAvatarPopupOpen||isEditProfilePopupOpen||isAddPlacePopupOpen||selectedCard||isOpenInfoTooltip;React.useEffect(function(){function closeByEscape(evt){if(evt.key==='Escape'){closeAllPopups();}}if(isOpen){document.addEventListener('keydown',closeByEscape);return function(){document.removeEventListener('keydown',closeByEscape);};}},[isOpen]);function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleCardClick(card){setSelectedCard(card);}function closeAllPopups(){setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsOpenInfoTooltip(false);setSelectedCard(null);}//авторизация,регистрация\nReact.useEffect(function(){var jwt=localStorage.getItem('token');if(jwt){auth.checkToken().then(function(res){console.log(res);setUserEmail(res.data.email);setLoggedIn(true);navigate('/main',{replace:true});}).catch(function(err){console.error(err);});}},[navigate]);//рег.пользователя\nfunction handleRegister(_ref3){var password=_ref3.password,email=_ref3.email;auth.register(email,password).then(function(){setResponseInfo(true);setIsOpenInfoTooltip(true);navigate('/sign-in',{replace:true});}).catch(function(err){setResponseInfo(false);setIsOpenInfoTooltip(true);console.error(err);}).finally(function(){setloading(false);});}//вход в профиль\nfunction handleLogin(formData){var email=formData.email,password=formData.password;auth.login(email,password).then(function(data){if(data.token){setUserEmail('');setLoggedIn(false);navigate('/main',{replace:true});}}).catch(function(err){setIsOpenInfoTooltip(true);setResponseInfo(false);console.error(err);}).finally(function(){setloading(false);});}//выход из профиля\nfunction handleSignOut(){localStorage.removeItem('token');setUserEmail('');navigate('/sign-up',{replace:true});}//лайки карточек\nfunction handleCardLike(card){var isLiked=card.likes.some(function(item){return item._id===currentUser._id;});api.changeLikeCardStatus(card._id,isLiked).then(function(newCard){setCards(function(state){return state.map(function(item){return item._id===card._id?newCard:item;});});}).catch(function(err){console.log(err);});}//удаление карточки\nfunction handleCardDelete(card){api.deleteCard(card._id).then(function(){setCards(function(state){return state.filter(function(item){return item._id!==card._id;});});}).catch(function(err){console.log(err);});}//редактирование профиля\nfunction handleUpdateUser(inputs){setIsEditProfilePopupOnLoading(true);api.setUserInfo(inputs).then(function(data){setCurrentUser(data);}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsEditProfilePopupOnLoading(false);});}//редактирование аватарки\nfunction handleUpdateAvatar(inputs){setIsEditAvatarPopupOnLoading(true);api.setUserAvatar(inputs).then(function(data){setCurrentUser(data);}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsEditAvatarPopupOnLoading(false);});}//добавление карточки\nfunction handleAddPlaceSubmit(card){setIsAddPlacePopupOnLoading(true);api.createCard(card).then(function(data){setCards([data].concat(_toConsumableArray(cards)));}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsAddPlacePopupOnLoading(false);});}// if (loading) {\n//   return 'Идет загрузка...';\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn,userEmail:userEmail,onSignOut:handleSignOut}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/main\",element:/*#__PURE__*/_jsx(ProtectedRouteElement,{component:Main,loggedIn:loggedIn,cards:cards,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,onCardLike:handleCardLike,onCardDelete:handleCardDelete})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,onLoading:isEditProfilePopupOnLoading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit,onLoading:isAddPlacePopupOnLoading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,onLoading:isEditAvatarPopupOnLoading}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"confirm\",title:\"\\u0412\\u044B\\xA0\\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",buttonText:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isOpenInfoTooltip,onClose:closeAllPopups,isSuccess:responseInfo,successMessage:\"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043B\\u0438\\u0441\\u044C!\",FailMessage:\"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\"})]})});}export default App;","map":{"version":3,"names":["React","Routes","Route","useNavigate","Header","Main","Footer","PopupWithForm","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","CurrentUserContext","api","Register","Login","InfoTooltip","ProtectedRouteElement","auth","jsx","_jsx","jsxs","_jsxs","App","_React$useState","useState","_React$useState2","_slicedToArray","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_React$useState3","_React$useState4","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_React$useState5","_React$useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_React$useState7","_React$useState8","isEditProfilePopupOnLoading","setIsEditProfilePopupOnLoading","_React$useState9","_React$useState10","isAddPlacePopupOnLoading","setIsAddPlacePopupOnLoading","_React$useState11","_React$useState12","isEditAvatarPopupOnLoading","setIsEditAvatarPopupOnLoading","_React$useState13","_React$useState14","selectedCard","setSelectedCard","_React$useState15","_React$useState16","currentUser","setCurrentUser","_React$useState17","_React$useState18","cards","setCards","_React$useState19","_React$useState20","loggedIn","setLoggedIn","_React$useState21","_React$useState22","userEmail","setUserEmail","navigate","_React$useState23","_React$useState24","isOpenInfoTooltip","setIsOpenInfoTooltip","_React$useState25","_React$useState26","responseInfo","setResponseInfo","_React$useState27","_React$useState28","loading","setloading","useEffect","Promise","all","getUserInfo","getInitialCards","then","_ref","_ref2","userData","catch","err","console","log","isOpen","closeByEscape","evt","key","closeAllPopups","document","addEventListener","removeEventListener","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","card","jwt","localStorage","getItem","checkToken","res","data","email","replace","error","handleRegister","_ref3","password","register","finally","handleLogin","formData","login","token","handleSignOut","removeItem","handleCardLike","isLiked","likes","some","item","_id","changeLikeCardStatus","newCard","state","map","handleCardDelete","deleteCard","filter","handleUpdateUser","inputs","setUserInfo","handleUpdateAvatar","setUserAvatar","handleAddPlaceSubmit","createCard","concat","_toConsumableArray","className","children","Provider","value","onSignOut","path","element","component","onEditAvatar","onEditProfile","onAddPlace","onCardClick","onCardLike","onCardDelete","onRegister","onLogin","onClose","onUpdateUser","onLoading","onUpdateAvatar","name","title","buttonText","isSuccess","successMessage","FailMessage"],"sources":["/Users/veronikagennadevna/Desktop/dev/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/Api.js';\nimport Register from './Register.js';\nimport Login from './Login.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport ProtectedRouteElement from './ProtectedRoute.js';\nimport { auth } from '../utils/auth';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\n  const [isEditProfilePopupOnLoading, setIsEditProfilePopupOnLoading] = React.useState(false);\n  const [isAddPlacePopupOnLoading, setIsAddPlacePopupOnLoading] = React.useState(false);\n  const [isEditAvatarPopupOnLoading, setIsEditAvatarPopupOnLoading] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  //auth\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const navigate = useNavigate();\n  const [isOpenInfoTooltip, setIsOpenInfoTooltip] = React.useState(false);\n  const [responseInfo, setResponseInfo] = React.useState(false);\n  const [loading, setloading] = React.useState(true);\n\n  React.useEffect(() => {\n    loggedIn &&\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([userData, cards]) => {\n          setCurrentUser(userData);\n          setCards(cards);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    // .finally(() => {\n    //   setloading(false);\n    // });\n  }, [loggedIn]);\n\n  const isOpen =\n    isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard || isOpenInfoTooltip;\n\n  React.useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      };\n    }\n  }, [isOpen]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsOpenInfoTooltip(false);\n    setSelectedCard(null);\n  }\n  //авторизация,регистрация\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('token');\n    if (jwt) {\n      auth\n        .checkToken()\n        .then((res) => {\n          console.log(res);\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n          navigate('/main', { replace: true });\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }, [navigate]);\n  //рег.пользователя\n  function handleRegister({ password, email }) {\n    auth\n      .register(email, password)\n      .then(() => {\n        setResponseInfo(true);\n        setIsOpenInfoTooltip(true);\n        navigate('/sign-in', { replace: true });\n      })\n      .catch((err) => {\n        setResponseInfo(false);\n        setIsOpenInfoTooltip(true);\n        console.error(err);\n      })\n      .finally(() => {\n        setloading(false);\n      });\n  }\n  //вход в профиль\n  function handleLogin(formData) {\n    const { email, password } = formData;\n    auth\n      .login(email, password)\n      .then((data) => {\n        if (data.token) {\n          setUserEmail('');\n          setLoggedIn(false);\n          navigate('/main', { replace: true });\n        }\n      })\n      .catch((err) => {\n        setIsOpenInfoTooltip(true);\n        setResponseInfo(false);\n        console.error(err);\n      })\n      .finally(() => {\n        setloading(false);\n      });\n  }\n\n  //выход из профиля\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setUserEmail('');\n\n    navigate('/sign-up', { replace: true });\n  }\n\n  //лайки карточек\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((item) => (item._id === card._id ? newCard : item)));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  //удаление карточки\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((item) => item._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  //редактирование профиля\n  function handleUpdateUser(inputs) {\n    setIsEditProfilePopupOnLoading(true);\n    api\n      .setUserInfo(inputs)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsEditProfilePopupOnLoading(false);\n      });\n  }\n  //редактирование аватарки\n  function handleUpdateAvatar(inputs) {\n    setIsEditAvatarPopupOnLoading(true);\n    api\n      .setUserAvatar(inputs)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsEditAvatarPopupOnLoading(false);\n      });\n  }\n  //добавление карточки\n  function handleAddPlaceSubmit(card) {\n    setIsAddPlacePopupOnLoading(true);\n    api\n      .createCard(card)\n      .then((data) => {\n        setCards([data, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsAddPlacePopupOnLoading(false);\n      });\n  }\n\n  // if (loading) {\n  //   return 'Идет загрузка...';\n  // }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header loggedIn={loggedIn} userEmail={userEmail} onSignOut={handleSignOut} />\n        <Routes>\n          <Route\n            path=\"/main\"\n            element={\n              <ProtectedRouteElement\n                component={Main}\n                loggedIn={loggedIn}\n                cards={cards}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n              />\n            }\n          />\n          <Route path=\"/sign-up\" element={<Register onRegister={handleRegister} />} />\n          <Route path=\"/sign-in\" element={<Login onLogin={handleLogin} />} />\n        </Routes>\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          onLoading={isEditProfilePopupOnLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          onLoading={isAddPlacePopupOnLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          onLoading={isEditAvatarPopupOnLoading}\n        />\n        <PopupWithForm name=\"confirm\" title=\"Вы&nbsp;уверены?\" buttonText=\"Да\" />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip\n          isOpen={isOpenInfoTooltip}\n          onClose={closeAllPopups}\n          isSuccess={responseInfo}\n          successMessage=\"Вы успешно зарегистрировались!\"\n          FailMessage=\"Что-то пошло не так! Попробуйте ещё раз.\"\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}